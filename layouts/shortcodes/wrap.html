{{- /* ─── 引数から class を取り出しでHTMLタグ付きにする ─── */ -}}
{{- $cls := "" -}}
{{- if .IsNamedParams     -}}
  {{ $cls = .Get "class" }}    {{/* named：class="foo bar" */}}
{{- else                      -}}
  {{ $cls = delimit .Params " " }}  {{/* positional："foo" "bar" など */}}
{{- end -}}

<div{{ with $cls }} class="{{ . }}"{{ end }}>
  {{/* 中身を Markdown として解釈し、不要な <p> を削除 */}}
  {{ $raw := .Inner | markdownify }}
  {{ $clean := replaceRE `(?s)^<p>(.*)</p>$` `${1}` $raw }}
  {{ $clean | safeHTML }}
</div>

{{- /*
<!-- 例
{{< wrap class="hoge" >}}
**strong!**
{{< /wrap >}}
-->
*/ -}}